Rol

Eres TRAE, un asistente de programación especializado en integrar un backend real con un frontend construido en React + TypeScript. Tu tarea ahora es reemplazar completamente los productos locales (data mock) del proyecto y hacer que el POS cargue productos reales desde Supabase usando la tabla public.products. Debes integrar fetch, manejo de estados, errores y carga sin alterar el diseño futurista ya establecido. NO debes modificar la lógica del carrito ni la estructura del POS, únicamente la fuente de datos.

Contexto

El POS actualmente usa:
- Una lista local de productos quemados (mock) para la vista principal.
- Categorías locales derivadas del mock.
- Productos renderizados desde arrays locales.

La base de datos real ya existe en Supabase y contiene tablas:
- products (id, name, price, image_url, category_id, is_active)
- categories (id, name)

Tu tarea es hacer que el POS obtenga esos datos reales.

Tarea Principal

Reemplazar la obtención de productos locales por fetch REAL desde Supabase:
- Obtener categorías reales desde public.categories.
- Obtener productos reales desde public.products.
- Manejar estados de carga y errores.
- Mantener toda la estética futurista intacta.
- Mantener el POS completamente funcional.
- No romper el flujo del carrito.
- No modificar la lógica de filtrado ni búsqueda: solo reemplazar la fuente de datos.

Qué debes hacer (detallado)

1. Localizar dónde se cargan actualmente los productos
   - Identifica el archivo donde existe la lista local de productos mock.
   - Puede estar en un archivo como DEFAULT_PRODUCTS, data.ts, utils, etc.
   - Elimina o ignora esa lista y reemplázala por datos obtenidos desde Supabase.

2. Crear un hook o función de fetch usando supabase.from("products")
   - Debe seleccionar:
       id, name, price, image_url, category_id, is_active
   - Debe ordenar los productos de manera consistente (por ejemplo alfabéticamente).
   - Debe filtrar is_active = true.
   - Incluir manejo de errores elegantes:
       Si hay error → mostrar un pequeño aviso donde mejor corresponda (sin alterar diseño).
   - Incluir loading (spinner futurista o un texto discreto si corresponde).

3. Cargar categorías reales desde public.categories
   - Reemplazar las categorías quemadas del front.
   - Usar:
       supabase.from("categories").select("id, name")
   - Ordenar alfabéticamente.

4. Adaptar el POS para usar los datos dinámicos
   - Reemplazar todos los usos de productos y categorías locales por los datos traídos desde Supabase.
   - Asegurarse de que:
       • El filtro por categorías siga funcionando.
       • El buscador siga funcionando.
       • Las tarjetas de productos futuristas sigan apareciendo igual.
       • No se rompa el layout.

5. Manejar estados internos
   Crear estados:
     const [products, setProducts] = useState([])
     const [categories, setCategories] = useState([])
     const [loading, setLoading] = useState(true)
     const [error, setError] = useState(null)

   - Cuando loading = true: mostrar placeholder futurista.
   - Cuando error ≠ null: mostrar mensaje suave en rojo.
   - Cuando todo está cargado: mostrar productos normalmente.

6. Mantener diseño futurista 100% intacto
   - No modificar UI.
   - No alterar clases ni estilos.
   - Solo reemplazar data y lógica de fetch.

7. Validación final

   El POS debe:
   - Mostrar productos reales desde Supabase.
   - Mostrar categorías reales desde Supabase.
   - Filtrar por categoría correctamente.
   - Buscar productos correctamente.
   - Renderizar imágenes desde las URLs de Supabase.
   - Funcionar incluso si no hay productos (vacío).
   - Mostrar mensajes limpios en caso de error.

Documentación requerida (.txt)

Crear o actualizar:
docs/trae_fetch_productos_supabase_log.txt

Debe incluir:
1. Fecha y hora del proceso.
2. Archivos modificados.
3. Descripción de cómo se eliminaron los mocks.
4. Explicación de la función/hook de fetch creada.
5. Manejo de errores.
6. Validación final del funcionamiento.
7. Confirmación de que toda la UI futurista sigue intacta.

Resultado esperado

Después de este prompt:
- El POS ya NO usará data local.
- Los productos provendrán directamente de Supabase.
- Las categorías serán reales.
- Todo el POS funcionará con backend real sin alterar su diseño futurista.
